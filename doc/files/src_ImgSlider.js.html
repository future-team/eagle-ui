<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, minimal-ui" />
    <title>src/ImgSlider.js - eagle-ui</title>
  
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/vendor/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
</head>
<body class="yui3-smart" _assetsPath="../assets">
 <nav class="navbar navbar-inverse navbar-fixed-top custom-navbar" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
               <a class="navbar-brand mainlogo" href="">
             
            <img alt="eagle-ui" src="../assets/css/logo.png" title="eagle-ui">
            
                eagle-ui
          </a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                 <ul class="nav navbar-nav">
                    
                    <li><a href="">主页</a>
                    </li>
                    
                    <li><a href="http://future-team.github.io/eagle-ui/examples/index.html">示例</a>
                    </li>
                    
                </ul>
               <div class="navbar-form navbar-right filterAPi" autocomplete="off">
                <input type="text" id='txtSearchAPI' class="form-control search-query" placeholder="Search for API" />
                 <ul id="filterList" class="filterItems dropdown-menu" role="menu"></ul>
                </div>
            </div>
        </div>
    </nav>
    <div class="gfs-wrapper clearfix">
        <div id="sidebar">
    <h3>模块/类</h3>
        <div id="api-tabview-filter">
            <input id='txtSearch' type="search" class="form-control" placeholder="Type to filter Modules/Classes">
        </div>
        <dl id="sidebar_list">
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <a href="../modules/form(表单).html">form(表单)</a>
                </dt>
                <dd>
                    <ul>
                   
                       <li>
                            
                           <a href="../classes/CheckboxGroup.html">CheckboxGroup</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/RadioGroup.html">RadioGroup</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Select.html">Select</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/ValidatorPanel.html">ValidatorPanel</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Button.html">Button</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/ButtonGroup.html">ButtonGroup</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Input.html">Input</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/ValidatorWrapper.html">ValidatorWrapper</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                    </ul>
                </dd>
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <a href="../modules/grid(布局).html">grid(布局)</a>
                </dt>
                <dd>
                    <ul>
                   
                       <li>
                            
                           <a href="../classes/Row.html">Row</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Col.html">Col</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Grid.html">Grid</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                    </ul>
                </dd>
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <a href="../modules/panel(面板).html">panel(面板)</a>
                </dt>
                <dd>
                    <ul>
                   
                       <li>
                            
                           <a href="../classes/Panel.html">Panel</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/PanelContent.html">PanelContent</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/PanelFooter.html">PanelFooter</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/PanelHeader.html">PanelHeader</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                    </ul>
                </dd>
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <a href="../modules/table(表格).html">table(表格)</a>
                </dt>
                <dd>
                    <ul>
                   
                       <li>
                            
                           <a href="../classes/Column.html">Column</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Table.html">Table</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Td.html">Td</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Th.html">Th</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Tr.html">Tr</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                    </ul>
                </dd>
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <a href="../modules/ui.html">ui</a>
                </dt>
                <dd>
                    <ul>
                   
                       <li>
                            
                           <a href="../classes/imgSlider.html">imgSlider</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Label.html">Label</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Slider.html">Slider</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Calendar.html">Calendar</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/CalendarPanel.html">CalendarPanel</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Crumb.html">Crumb</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/DateTimePicker.html">DateTimePicker</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Dialog.html">Dialog</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/LabelGroup.html">LabelGroup</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Paging.html">Paging</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Star.html">Star</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Suggestion.html">Suggestion</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Tab.html">Tab</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Tabset.html">Tabset</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/TimePicker.html">TimePicker</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Toast.html">Toast</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Tooltip.html">Tooltip</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/TooltipPanel.html">TooltipPanel</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                    </ul>
                </dd>
             
        </dl>
    <div class="icon-sidebar-btn icon-sidebar-btn-open"><span class="glyphicon glyphicon-chevron-left"></span>收起</div>
</div>
   
        <div class="stdoc-content">
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <div class="page-header">
    <h1>src/ImgSlider.js <small>File</small></h1>
</div>

<div class="file">
    <pre class="prettyprint linenums" id='src_code'>
/**
 * Created by slashhuang on 15/12/28.
 */


import React, { Component ,PropTypes,findDOMNode} from &#x27;react&#x27;;
import ClassNameMixin from &#x27;./utils/ClassNameMixin&#x27;;
import classNames from &#x27;classnames&#x27;;
import Icon from &#x27;./utils/Icons.js&#x27;;
/**
 *  照片浏览组件&lt;br /&gt;
 *  提供的UI展示属性接口如下&lt;br/&gt;
 * &lt;ul&gt;
 *     &lt;li&gt;imgList:需要展示的图片数组，每个图片用一个对象来表示&lt;br&gt;
 *         例如
 *         &lt;pre&gt;&lt;code&gt;
 *                  [{
                        profile:&#x27;1叔2015上传&#x27;,
                        url:&#x27;http://img5.imgtn.bdimg.com/it/u=1478257864,2882073929&amp;fm=21&amp;gp=0.jpg&#x27;,
                        description:&#x27;闪惠商户培训资料&#x27;,
                        thumbnail:&#x27;http://img0.imgtn.bdimg.com/it/u=1649172259,4185796887&amp;fm=21&amp;gp=0.jpg&#x27;
                     }]
 *         &lt;/code&gt;&lt;/pre&gt;
 *     &lt;/li&gt;
 *     &lt;li&gt;show:是否显示照片浏览组件，默认隐藏，需要手动设置为true才可以显示照片浏览组件
 *         &lt;code&gt;
 *             &lt;strong&gt;默认&lt;/strong&gt;false
 *         &lt;/code&gt;
 *     &lt;/li&gt;
 *     &lt;li&gt;
 *         urlKey:定义大图的‘图片路径’应该取自图像object的哪一个属性。&lt;br/&gt;
 *         在上述imgList中，图像object的url属性就是大图路径，所以urlKey=&#x27;url&#x27;
 *     &lt;/li&gt;
 *     &lt;li&gt;
 *         titleKey:定义大图‘左下方文字描述’应该取自图像object的哪一个属性。&lt;br/&gt;
 *         在上述imgList中，图像object的description属性就是图片描述，所以titleKey=&#x27;description&#x27;
 *     &lt;/li&gt;
 *     &lt;li&gt;
 *         profileKey:定义大图‘正下方profile描述’应该取自图像object的哪一个属性。&lt;br/&gt;
 *         在上述imgList中，图像object的profile属性就是图片profile，所以profileKey=&#x27;profile&#x27;
 *     &lt;/li&gt;
 *     &lt;li&gt;thumbnailKey:定义缩略图对应imgList数组的key
 *         &lt;code&gt;
 *             &lt;strong&gt;默认&lt;/strong&gt;和urlKey保持一致,本例中就是thumbnail
 *         &lt;/code&gt;
 *     &lt;/li&gt;
 *     &lt;li&gt;showThumbnail:定义是否展示缩略图
 *         &lt;code&gt;
 *             &lt;strong&gt;默认&lt;/strong&gt;true
 *         &lt;/code&gt;
 *     &lt;/li&gt;
 *      &lt;li&gt;pageNum:定义每页缩略图的个数
 *         &lt;code&gt;
 *             &lt;strong&gt;默认&lt;/strong&gt;为5
 *         &lt;/code&gt;
 *     &lt;/li&gt;
 *     &lt;li&gt;imgModify:是否对图片进行放大缩小等操作
 *         &lt;code&gt;
 *             &lt;strong&gt;默认&lt;/strong&gt;为false
 *         &lt;/code&gt;
 *     &lt;/li&gt;
 * &lt;/ul&gt;
 * 使用方式:
 * &lt;pre&gt;&lt;code&gt;&amp;#60;imgSlider show={true} showThumbnail={true}
 imgList={imgList}
 profileKey={&#x27;profile&#x27;}
 urlKey={&#x27;url&#x27;}
 titleKey={&#x27;description&#x27;}
 thumbnailKey={thumbnailKey} /&amp;#62;&lt;/code&gt;
 * &lt;/pre&gt;
 * &lt;div&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://future-team.github.io/eagle-ui/examples/index.html#/slider&quot;&gt;demo展示&lt;/a&gt;&lt;/div&gt;
 * &lt;div&gt;&lt;a target=&quot;_blank&quot; href=&quot;https://github.com/future-team/eagle-ui/blob/master/src/ImgSlider.js&quot;&gt;查看源码&lt;/a&gt;&lt;/div&gt;
 * @class imgSlider
 * @module ui
 * @extends Component
 * @constructor
 * @demo #/imgslider|imgSlider.js
 * @show true
 * */
@ClassNameMixin
export default
class ImgSlider extends Component {
    constructor(props, context) {
        super(props, context);
        this.renderDisplay = this.renderDisplay.bind(this);
        this.state = {
            imgList: props.imgList,
            thumbnailKey: props.thumbnailKey || props.urlKey || &#x27;url&#x27;,
            pageNum: props.pageNum,
            show: props.show,
            showThumbnail: props.showThumbnail,
            targetIndex: 0,
            thumbNailIndex: 0,
            imgModify: props.imgModify,
            transform:&#x27;scale(1, 1) rotate(0deg)&#x27;
        };
    }

    static defaultProps = {
        pageNum: 5,
        show: false,
        showThumbnail: true,
        classPrefix: &#x27;slider&#x27;,
        profileKey: &#x27;profile&#x27;,
        urlKey: &#x27;url&#x27;,
        titleKey: &#x27;description&#x27;,
        imgModify: false
    };
    static propTypes = {
        /**
         * slider的图片数组
         * @property imgList
         * @type Array
         * @default 图片数组(包含大图地址、描述等信息)
         * */
        imgList: PropTypes.array,
        /**
         * 是否展示slider
         * @property show
         * @type boolean
         * @default false(默认不展示)
         * */
        show: PropTypes.bool,
        /**
         * 图片信息(对应imgList中大图标题信息的key))
         * @property urlKey
         * @type string
         * @default  url
         * */
        urlKey: PropTypes.string,
        /**
         * 图片信息(对应图片信息数组对象中图片描述信息的key)
         * @property profileKey
         * @type string
         * @default  profile
         * */
        profileKey: PropTypes.string,
        /**
         * 图片描述信息(对应imgList中大图标题信息的key)
         * @property titleKey
         * @type string
         * @default description
         * */
        titleKey: PropTypes.string,
        /**
         * 是否显示slider的图片缩略图部分
         * @property showThumbnail
         * @type boolean
         * @default true
         * */
        showThumbnail: PropTypes.bool,
        /**
         * 缩略图的key
         * @property thumbnailKey
         * @type array
         * @default 默认和urlKey保持一致
         * */
        thumbnailKey: PropTypes.string,
        /**
         * 缩略图展示数目
         * @property pageNum
         * @type number
         * @default 5
         * */
        pageNum: PropTypes.number,
        /**
         * 控制缩放旋转控件的显示，默认隐藏
         * @property imgModify
         * @type boolean
         * @default false
         * */
        imgModify: PropTypes.bool,
        classPrefix: PropTypes.string
    };

    componentWillReceiveProps(props) {
        this.setState({
            show: props.show,
            showThumbnail: props.showThumbnail,
            thumbnailKey: props.thumbnailKey || props.urlKey,
            targetIndex: 0,
            thumbNailIndex: 0,
            imgList: props.imgList || this.state.imgList,
            imgModify: this.toBool(props.imgModify)
        });
        let _this = this;
    }

    toBool(obj) {
        return !!obj;
    }

    renderDisplay(e) {
        //点击下方缩略图的情况
        let index = /img||li/i.test(e.target[&#x27;nodeName&#x27;]) ? e.target.getAttribute(&#x27;data-index&#x27;) : eval(&#x27;return&#x27;);
        this.handleIndex.call(this, index * 1);
    }
    handleIndex(index) {
        let length = this.state.imgList.length;
        let pageNum = this.props.pageNum;
        if (index &gt;= 0) {
            //1图片总长度小于缩略图预制的长度 2未到最后的情况，展示逻辑放在一起
            if (length &lt;= pageNum) {
                this.setState({
                    targetIndex: index,
                    thumbNailIndex: 0
                })
            }
            else if (index &lt;= length - pageNum) {
                this.setState({
                    targetIndex: index == length ? length - 1 : index,
                    thumbNailIndex: index
                })
            } else if (index &lt; length) {
                //缩略图已到尾部
                this.setState({
                    targetIndex: index,
                    thumbNailIndex: length - pageNum
                })
            } else {
                //回到最后的状态
                this.setState({
                    targetIndex: length - 1,
                    thumbNailIndex: length - pageNum,
                    transform:&#x27;scale(1, 1) rotate(0deg)&#x27;
                })
            }
        } else {

            //回到最初状态
            this.setState({
                targetIndex: 0,
                thumbNailIndex: 0,
                transform:&#x27;scale(1, 1) rotate(0deg)&#x27;
            })
        }
    }

    addIndex(num = 1) {
        let length = this.state.imgList.length;
        let index = this.state.targetIndex + num - length &gt;= 0 ? length - 1 : this.state.targetIndex + num;
        this.handleIndex.call(this, index);
    }

    lowerIndex(num = 1) {
        let index = this.state.targetIndex - num &lt; 0 ? 0 : this.state.targetIndex - num;
        this.handleIndex.call(this, index);
    }

    fadeOut(e) {
        if (e.target.className.match(&#x27;slider-mask&#x27;) || e.target.nodeName.toLowerCase() == &#x27;em&#x27;) {
            this.setState({
                show: false
            });
        }
    }

    render() {
        let {imgList,thumbnailKey,targetIndex,thumbNailIndex,show,showThumbnail} = this.state;
        let {profileKey,urlKey,titleKey,pageNum}=this.props;
        let length = imgList.length;
        let containerStyle = {display: show ? &#x27;block&#x27; : &#x27;none&#x27;};
        //设置行内样式
        let customizeStyle = this.props.style || {};
        //阻止背景滚动
        //show?document.body.style.cssText=&#x27;position:fixed&#x27;:document.body.style.cssText=&#x27;&#x27;;
        let thumbnailContainerStyle = {display: showThumbnail ? &#x27;block&#x27; : &#x27;none&#x27;};
        return (
            &lt;div onClick={this.fadeOut.bind(this)}&gt;
                &lt;div ref=&#x27;slider-container&#x27; className={ classNames(&#x27;eg-slider-container&#x27;, &#x27;fadein&#x27;,this.props.className)
                } style={{...customizeStyle,...containerStyle}}&gt;
                    &lt;em onClick={this.fadeOut.bind(this)}&gt;&lt;/em&gt;

                    &lt;div className=&#x27;eg-slider-img-container&#x27;&gt;
                        &lt;div className={&#x27;eg-slider-field-common eg-slider-field-left&#x27;}
                             onClick={()=&gt;this.lowerIndex.call(this)}&gt;
                            &lt;b className=&#x27;eg-slider-arrow-left&#x27;&gt;&lt;/b&gt;
                        &lt;/div&gt;
                        &lt;div className={&#x27;eg-slider-field-common eg-slider-field-right&#x27;}
                             onClick={()=&gt;this.addIndex.call(this)}&gt;
                            &lt;b className=&#x27;eg-slider-arrow-right&#x27;&gt;&lt;/b&gt;
                        &lt;/div&gt;
                        {this.hasOperate()}
                        &lt;div className=&#x27;eg-slider-window&#x27; style={{width:&#x27;380px&#x27;}}&gt;
                            &lt;ul style={{width:length*380+&#x27;px&#x27;,left:-targetIndex*380+&#x27;px&#x27;}}&gt;
                                {imgList.map((img, index)=&gt; {
                                    return (
                                        &lt;li style={{width:&#x27;380px&#x27;}} key={&#x27;img-&#x27;+index}&gt;
                                            &lt;img src={img[[urlKey]]}/&gt;
                                        &lt;/li&gt;
                                    )
                                })}
                            &lt;/ul&gt;
                        &lt;/div&gt;
                        &lt;div className=&#x27;eg-slider-img-hint&#x27;&gt;
                            &lt;i&gt;{imgList[targetIndex][titleKey]}&lt;/i&gt;
                            {imgList[targetIndex][profileKey]}
                            &lt;i&gt;{targetIndex + 1}/{imgList.length}&lt;/i&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;div className=&#x27;eg-slider-img-container-thumbnail&#x27; style={{...thumbnailContainerStyle}}&gt;
                        &lt;div className={&#x27;eg-slider-field-common eg-slider-field-left&#x27;}
                             onClick={()=&gt;{this.lowerIndex.call(this,pageNum)}}&gt;
                            &lt;b className=&#x27;eg-slider-arrow-left&#x27;&gt;&lt;/b&gt;
                        &lt;/div&gt;
                        &lt;div className=&#x27;eg-slider-window&#x27; style={{width:&#x27;380px&#x27;}}&gt;
                            &lt;ul onClick={this.renderDisplay}
                                style={{width:100*length/pageNum+&#x27;%&#x27;,
                                        left:-(thumbNailIndex)*100/pageNum+&#x27;%&#x27;
                                }}&gt;
                                {imgList.map((img, index)=&gt; {
                                    let inlineStyle = null;
                                    if (index == targetIndex) {
                                        inlineStyle = {
                                            borderColor: &#x27;#158acf&#x27;
                                        }
                                    }
                                    return (
                                        &lt;li data-index={index} style={{width:100/length-1.1+&#x27;%&#x27;,...inlineStyle}}
                                            key={&#x27;thumb-&#x27;+index}&gt;
                                            &lt;img src={img[thumbnailKey]} data-index={index}/&gt;
                                        &lt;/li&gt;
                                    )
                                })}
                            &lt;/ul&gt;
                        &lt;/div&gt;
                        &lt;div className={&#x27;eg-slider-field-common eg-slider-field-right&#x27;}
                             onClick={()=&gt;{this.addIndex.call(this,pageNum)}}&gt;
                            &lt;b className=&#x27;eg-slider-arrow-right&#x27;&gt;&lt;/b&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        )
    }

    /**
     * 有放大操作需求时，新增操作区div
     * */
    hasOperate() {
        return !this.state.imgModify ? &#x27;&#x27; : this.renderOpItem();
    }

    renderOpItem() {
        let imgList = this.state.imgList,
            url = imgList[this.state.targetIndex].url;
        return (
                &lt;div className=&#x27;operate_block&#x27;&gt;
                    &lt;div className=&#x27;img_container&#x27;&gt;
                        &lt;img src={url}
                             style={{
                                    msTransform: this.state.transform,
                                    WebkitTransform: this.state.transform,
                                    MozTransform: this.state.transform,
                                    OTransform: this.state.transform,
                                    transform: this.state.transform}}/&gt;
                    &lt;/div&gt;
                    &lt;div className=&quot;icon-box&quot;&gt;
                        &lt;Icon style={{color:&#x27;#fff&#x27;}} onClick={::this.cssEnhance.bind(this,&#x27;rotate&#x27;)} className=&quot;upload-icon&quot;
                              name=&quot;radio-unchecked&quot; alt=&quot;旋转&quot;&gt;&lt;/Icon&gt;
                        &lt;Icon style={{color:&#x27;#fff&#x27;}} onClick={::this.cssEnhance.bind(this,&#x27;max&#x27;)} className=&quot;upload-icon&quot; name=&quot;add&quot;
                              alt=&quot;放大&quot;&gt;&lt;/Icon&gt;
                        &lt;Icon style={{color:&#x27;#fff&#x27;}} onClick={::this.cssEnhance.bind(this,&#x27;min&#x27;)} className=&quot;upload-icon&quot; name=&quot;minus&quot;
                              alt=&quot;缩小&quot;&gt;&lt;/Icon&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
        )
    }

    cssEnhance(type,e) {
        e.stopPropagation()
        const val = this.state.transform.match(/-?\d+\.?\d*/g);
        if (val &amp;&amp; val.length &gt;= 3 ) {
            let {zoom, rotate} = 0;
            switch (type) {
                case &#x27;rotate&#x27;:
                    zoom = val[0];
                    rotate = (parseInt(val[2]/90)+1)*90;
                    break;
                case &#x27;max&#x27;:
                    zoom = 2;
                    rotate = val[2];
                    break;
                case &#x27;min&#x27;:
                    zoom = 1;
                    rotate = val[2];
                    break;
            }
            this.calculatePosition(zoom, rotate);
        }
    }
    calculatePosition(zoom, rotate) {
        this.setState({
            transform:&#x60;scale(${zoom}, ${zoom}) rotate(${rotate}deg)&#x60;
        });

    }
}
    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
    
<a id="gotoTop" class='well well-small' href='#'>
</a>
<script src="../assets/vendor/jquery/jquery-1.8.2.js"></script>
<script src="../assets/vendor/bootstrap/js/bootstrap.js"></script>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script src="../assets/js/config.js"></script>
<script src="../assets/js/doc.js"></script>

</body>
</html>
